<h1>{{(isCreate) ? 'New Post' : 'Edit post'}}</h1>

<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="title">Title*</label>
    <input
    formControlName="title"
      type="text"
      class="form-control"
      id="title"
      aria-describedby="titleHelp"
      placeholder="Enter title"
    />
    <small id="titleHelp" class="form-text text-muted" *ngIf="registerForm.controls.title.errors">Required</small>
  </div>
  <div class="form-group">
    <label for="content">Content</label>
    <textarea
    formControlName="content"
      class="form-control"
      id="content"
      rows="3"
      aria-describedby="contentHelp"
    ></textarea>
    <small id="titleHelp" class="form-text text-muted" *ngIf="registerForm.controls.content.errors">Required</small>
  </div>

  <div class="form-grop row">
    <div class="col-sm-6">
      <label for="inputLongitude">Longitude</label>
      <input
      formControlName="long"
        type="text"
        class="form-control"
        id="inputLongitude"
        placeholder="Longitude"
        aria-describedby="longitudetHelp"
      />
      <small id="longitudetHelp" class="form-text text-muted" *ngIf="registerForm.controls.long.errors">Invalid format</small>
    </div>
    <div class="col-sm-6">
      <label for="inputLatitude">Latitude</label>
      <input
      formControlName="lat"
        type="text"
        class="form-control"
        id="inputLatitude"
        placeholder="Latitude"
        aria-describedby="latitudeHelp"
      />
      <small id="latitudeHelp" class="form-text text-muted" *ngIf="registerForm.controls.lat.errors">Invalid format</small>
    </div>
  </div>
  <div class="form-group pt-15">
    <label for="image">Image url</label>
    <input
    formControlName="image_url"
      type="text"
      class="form-control"
      id="image"
      aria-describedby="imageHelp"
      placeholder="Enter image url"
    />
  </div>

  <div class="row">
    <div class="col-md-6" *ngIf="registerForm.controls.image_url.value">
      <img [src]="registerForm.controls.image_url.value">
    </div>
    <div class="col-md-6" *ngIf="registerForm.controls.lat.value && registerForm.controls.long.value">
     <img [src]="getMapUrl(registerForm.controls.lat.value,registerForm.controls.long.value)" alt="">
    </div>
    
  </div>

  <div class="buttons-row">
    <button type="submit" class="btn btn-primary" [disabled]="registerForm.invalid" [ngClass]="{'disabled' : registerForm.invalid}">{{(isCreate)? 'Create' : 'Update'}}</button>
    <button type="submit" class="btn btn-dark" *ngIf="!isCreate" (click)="back()">Back</button>
  </div>
</form>

